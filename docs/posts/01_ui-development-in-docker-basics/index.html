<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.61.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>UI Development in Docker — Basics&nbsp;&ndash;&nbsp;My Engineering Practices</title><link rel="stylesheet" href="/css/core.min.96c00237413bedc5f3b4492ac3a19d4c4ca67cd2d17cb537ae443bdf32e8ac1ec15c2d5bbc83854baa211b076bae2cd1.css" integrity="sha384-lsACN0E77cXztEkqw6GdTEymfNLRfLU3rkQ73zLorB7BXC1bvIOFS6ohGwdrrizR"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">My Engineering Practices</span></a></span>
        <span class="header right-side"><div class="nav wrap">
    <nav class="nav"><a class="nav item" href="/about">About</a><a class="nav item" href="/">Posts</a><a class="nav item" href="https://github.com/trusz" target="_blank">
            &nbsp;Github
        </a>
    </nav>
</div></span></div><div class="site slogan"><span class="title">Software Engineering and Other Stuff</span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">UI Development in Docker — Basics</h1></section><article class="article markdown-body"><blockquote>
<p>This article is part of a series:</p>
<ol>
<li>UI Development in Docker — Basics</li>
<li><a href="/posts/02_ui-development-in-docker-cicd">UI Development in Docker — CI/CD</a></li>
<li><a href="/posts/03_ui-development-in-docker-testing">UI Development in Docker — Testing</a></li>
</ol>
</blockquote>
<p>Back in the day I have always struggled with setting up development environments for projects.<br>
It usually took hours and in some cases even days to get everything right.
The documentation was always outdated and missing key information.
If you had to work on multiple projects that used
different versions of SDKs and runtimes than the experience was even worse.</p>
<p>Then came the light-weight containerization popularized by <a href="https://www.docker.com/">Docker</a>.
The main usage of containers is to run the software in the same environment on any hardware.
It runs the same way on my machine as in the cloud.</p>
<p>Using this feature of the containers I setup my projects almost the same way.</p>
<h2 id="the-basics">The Basics</h2>
<p>The basic setup requires only:</p>
<ul>
<li>a <a href="https://docs.docker.com/compose/">docker-compose</a> file</li>
<li>a <a href="https://hub.docker.com/_/node">Node.js</a> container</li>
<li>a mapped port</li>
<li>the project folder mounted into the container</li>
</ul>
<p>This approach ensures that everybody runs the same version of Node.js.
Furthermore, to run it one only needs Docker.</p>
<p>The docker-compose file usually looks something like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># An extract of the `docker-compose.yaml`</span><span class="w">
</span><span class="w"></span>version<span class="p">:</span><span class="w"> </span><span class="s2">&#34;3.6&#34;</span><span class="w">
</span><span class="w"></span>services<span class="p">:</span><span class="w">
</span><span class="w">    </span>ui<span class="p">:</span><span class="w">
</span><span class="w">        </span>image<span class="p">:</span><span class="w"> </span><span class="s2">&#34;node:13.5-alpine&#34;</span><span class="w">
</span><span class="w">        </span>ports<span class="p">:</span><span class="w">
</span><span class="w">            </span>-<span class="w"> </span><span class="s2">&#34;3000:3000&#34;</span><span class="w">
</span><span class="w">        </span>stdin_open<span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span>tty<span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="w">        </span>working_dir<span class="p">:</span><span class="w"> </span><span class="s2">&#34;/app&#34;</span><span class="w">
</span><span class="w">        </span>volumes<span class="p">:</span><span class="w">
</span><span class="w">            </span>-<span class="w"> </span>.<span class="p">:</span>/app<span class="w">
</span><span class="w">        </span>command<span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;sh&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;-c&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;yarn install &amp;&amp; yarn dev&#34;</span><span class="p">]</span><span class="w">
</span></code></pre></div><p>Alpine images keep the overhead low and the image small.</p>
<p><code>yarn install &amp;&amp; ...</code> makes sure that we alway have the correct packages.
This step takes only a few seconds as the <code>node_modules</code> are persisted outside of docker
and does not have to be installed again and again.</p>
<p>If we run start the container with <code>docker-compose run --service-ports</code>
we get colors, animated progressbars and we can interact with clis, thanks to the
<code>stdin_open: true</code> and <code>tty: true</code>.</p>
<p>Mounting the folder enables file watcher for live refresh and hot reloading.</p>
<div class="highlight"><pre class="chroma"><code class="language-txt" data-lang="txt">An overview of the basic setup
                ╭──────────────╮
                │ ◎ ○ ○ ░░░░░░░│
                ├──────────────┤      O
                │ Any Browser  │     /|\  
                │              │◀──  / \  
                │              │
                │              │    USER  
                └──────────────┘
                        │
                        ●
                        ◡
                        │
                 localhost:3000
                        │
                       ┌─┐
              ┌────────┤ ├────────┐
              │        └─┘        │
              │         │         │
              │         ●         │
              │         ◡         │
              │         │         │
              │  localhost:3000   │
              │         │         │
              │   ┌───────────┐   │
              │   │Development│   │
              │   │  Server   │   │
              │   └───────────┘   │
              │         │         │
              │         ▼         │
┌────────┐    │     ┌ ─ ─ ─       │
│Project │  ┌─┴─┐     /app │      │
│ Folder │──│   │───│             │
└────────┘  └─┬─┘    ─ ─ ─ ┘      │
              │                   │
              │Container: UI      │
              └───────────────────┘
</code></pre></div></article><section class="article labels"><a class="category" href=/categories/ui-development-in-docker/>UI Development in Docker</a><a class="tag" href=/tags/docker/>docker</a><a class="tag" href=/tags/ui/>ui</a><a class="tag" href=/tags/dx/>dx</a></section></div><section class="article navigation"><p><a class="link" href="/posts/02_ui-development-in-docker-cicd/"><span class="li">&rarr;</span>UI Development in Docker — CI/CD</a></p></section></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">My Engineering Practices</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section></div>
</body>

</html>